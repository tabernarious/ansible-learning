---
- hosts: node00
  gather_facts: no
  vars:
    admin_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31633039336437396632343337313132623437343231643661383933383865333661343938356662
          3164343764363936313231356362633536386138613436380a316366313862653163346239316264
          31303036323263333663663864306265336461376631663462393034336461616134346261663936
          6266633664663562320a656333383336366565663238353363613661623262353561616530343637
          3666
    developer_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32373530356562326665666261653432386538626263666431336331653336326133383561346631
          6131313166653033383661663637396439393633666137360a356431656265306635393338626537
          61653037353865623635333935386339366438643137316366663739623630306535326537333432
          3937323535363234630a373863373564383433623330323138613035666331363739363532623064
          6631
  tasks:
    - name: Include user.yml
      include_vars:
        file: data/users.yml
    - name: Creating admins
      user:
        name: "{{ item }}"
        password: "{{ admin_pass }}"
        groups: wheel
      with_items: "{{ admins | list }}"

    - name: creating developers
      user:
        name: "{{ item }}"
        password: "{{ developer_pass }}"
        home: /var/www
      with_items: "{{ developers | list }}"